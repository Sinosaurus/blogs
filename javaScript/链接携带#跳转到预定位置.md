# 通过链接如何找到指定位置

现在有一个需求，就是通过链接调到指定页面的位置，不然就得不同链接不同页面，那样工作量大之外，还太浪费。于是决定在一个页面中，通过链接调到指定位置



> 直接通过hash跳转，会导致目标元素紧贴着顶部，无法做到相隔一段一段距离。虽然目前通过该方案，可以实现我们想要的基本效果，但是一些细节还是不到位，依旧无法有效完善

存在的问题
========

+ 如何做到每次定位到元素时，距离顶部的位置可以自定义
+ 携带参数后，如何依旧有之前的效果
+ `html:100%` 会不会导致滚动失效

> 谷歌测试有问题是因为 [link](https://segmentfault.com/a/1190000011936743)

```
history的scrollRestoration属性
```
主要表现为，缓存了用户的位置，导致不再进行滚动到指定位置

> 处理方法 [link](https://cloud.tencent.com/developer/ask/35926)
```
if ('scrollRestoration' in history) {
  history.scrollRestoration = 'manual';
}
<!-- 会引发新的问题，锚点定位就无法使用了 在chrome浏览器下 -->
```

> 使用 getBoundingClientRect 时，top为负数，表示到了可视化窗口上方