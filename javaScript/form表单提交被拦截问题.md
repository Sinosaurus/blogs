# form 表单提交被拦截

最近做的一个项目，利用 form 表单（可以避免跨域问题）提交，在 chrome 可以正常进行跳转，但是在手机端，以及一些 pc 端浏览器却无法正常跳转。通过检查后台日志，没有正常跳转的都是因为后天直接没有收到该请求，此时就一个疑惑： WHY?

## 查找问题

由于在 chrome 下是可以进行的，潜意识地便认为自己的代码没有，有问题的是浏览器（或者经过特殊处理的，微微一笑）。结果还正在网上找到一个可以佐证自己的思路的问题[link](https://my.oschina.net/u/1162669/blog/205643)，此文说了一个问题，若是自动触发表单的`submit()`方法时，会被浏览器记录为是**广告**，从而被拦截了（这浏览器都被整怕了呀）

因而在寻找如何解决**广告**这条道路上渐行渐远。但是这个问题却不得不解决，严重影响公司业务，更多地便关心到自己的钱袋啊。

在跟产品沟通过程中，说是参数问题。遵循着轻松时刻来解决试试的心态。写了一个 demo 进行尝试。一切 ok，以为会出现的问题，居然丝毫没有浮出水面的迹象。

拿着 demo 和线上代码对比

> demo

```
$('form').submit()
```

> 线上

```
$('form').submit()
location.reload()
```

在锁定代码差异化后，果断去掉`location.reload()`，之前的问题瞬间烟消云散，拨开乌云见晴空。内心真是......
自作聪明啊，话说为何 chrome 却没有出现这个问题呢。有点不太理解，这代码应该是同步的，各行其事，应该不至于才是。此时只能理解为，在`form`提交时，此时浏览器还在执行时的实例被`location.reload`重置了，导致之前的请求直接被拦截了（虽然有些扯）

_希望有大神能指点一二_

> 暂且记上这一个坑
